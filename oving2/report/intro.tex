\chapter{Introduction}
This Chapter briefly introduces the exercise and how we chose to approach it.

\section{Exercise 1}

The work underlying this report ties closely to the work we did in the previous exercise.
Throughout this report said work is often referenced.
Details that pertain more closely to exercise 1 are omitted from this report, and as such, the reader should consult our report from the previous exercise \cite{ex1report} for additional details.

\section{Exercise Description}

In exercise 1, we implemented a simple, multi-cycle processor supporting a subset of MIPS instructions.
The resulting implementation, while being an improvement over the na√Øve single-cycle implementation, still has a fairly high amount of clock cycles during which it stalls.
It is, in other words, not as efficient as it could be.
In this exercise, the goal is to extend and optimize the implementation to improve instruction throughput.
This is to be done by modifying the datapath into a pipeline.
Pipeline registers are to be introduced to keep track of an instructions state between pipeline stages.
The control module will also have to be modified to support pipelined processing.
Pipelined processing introduces data and control hazards, so it is also required to implement systems for dealing with this.
As with the previous exercise, our implementation is to be verified both in software simulation as well as running on the FPGA developer kit in the lab (ITV-458).


\section{Approach}

As suggested in the compendium \cite{compendium}, we chose to build upon our architecture from exercise 1.
Similarily to last time, we started by making architecture level sketches of the changes that had to be made to the data-/controlpaths.
Having planned our next moves while sketching, we started implementing the modified design in VHDL.
We began by introducing pipeline registers to our datapath, followed by removing state from the control module and implementing new modules like a forwarder and a hazard detector.
After wiring everything together in the MIPSProcessor-module, we spent a lot of time making sure signals propagate correctly through the pipeline as well as testing that all hazards are handled.

